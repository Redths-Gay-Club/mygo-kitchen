import{t as P,M,n as x,E as Z,O as V,P as z,N as Q,Q as q,R as F,p as O,V as N,U as W,v as $,W as X,X as j,m,Y as J,S as G,d as K,Z as k,_ as aa,$ as ea,a0 as ra,g as S,c as sa,a1 as ia,a2 as fa,a3 as ta,l as na,a4 as ua,f as Y,a5 as la,a6 as _a,a7 as B,a8 as ca,C as U,a9 as va,aa as da}from"./DsNwAXZ1.js";import{p as ha}from"./1mWM_Woo.js";function Pa(a,e,f=!1){P&&M();var t=a,s=null,r=null,l=W,T=f?Z:0,c=!1;const _=(u,n=!0)=>{c=!0,I(n,u)},I=(u,n)=>{if(l===(l=u))return;let v=!1;if(P){const o=t.data===V;!!l===o&&(t=z(),Q(t),q(!1),v=!0)}l?(s?F(s):n&&(s=O(()=>n(t))),r&&N(r,()=>{r=null})):(r?F(r):n&&(r=O(()=>n(t))),s&&N(s,()=>{s=null})),v&&q(!0)};x(()=>{c=!1,e(_),c||I(null,null)},T),P&&(t=$)}function Ia(a,e,f){P&&M();var t=a,s,r;x(()=>{s!==(s=e())&&(r&&(N(r),r=null),s&&(r=O(()=>f(t,s))))},Z),P&&(t=$)}function p(a,e){return a===e||(a==null?void 0:a[G])===e}function Ra(a={},e,f,t){return X(()=>{var s,r;return j(()=>{s=r,r=[],m(()=>{a!==f(...r)&&(e(a,...r),s&&p(f(...s),a)&&e(null,...s))})}),()=>{J(()=>{r&&p(f(...r),a)&&e(null,...r)})}}),a}let R=!1;function oa(a){var e=R;try{return R=!1,[a(),R]}finally{R=e}}function w(a){for(var e=Y,f=Y;e!==null&&!(e.f&(la|_a));)e=e.parent;try{return B(e),a()}finally{B(f)}}function Ta(a,e,f,t){var D;var s=(f&ca)!==0,r=!na||(f&ua)!==0,l=(f&fa)!==0,T=(f&va)!==0,c=!1,_;l?[_,c]=oa(()=>a[e]):_=a[e];var I=G in a||ta in a,u=l&&(((D=K(a,e))==null?void 0:D.set)??(I&&e in a&&(i=>a[e]=i)))||void 0,n=t,v=!0,o=!1,y=()=>(o=!0,v&&(v=!1,T?n=m(t):n=t),n);_===void 0&&t!==void 0&&(u&&r&&k(),_=y(),u&&u(_));var d;if(r)d=()=>{var i=a[e];return i===void 0?y():(v=!0,o=!1,i)};else{var L=w(()=>(s?U:da)(()=>a[e]));L.f|=aa,d=()=>{var i=S(L);return i!==void 0&&(n=void 0),i===void 0?n:i}}if(!(f&ea))return d;if(u){var H=a.$$legacy;return function(i,h){return arguments.length>0?((!r||!h||H||c)&&u(h?d():i),i):d()}}var b=!1,C=!1,A=ia(_),E=w(()=>U(()=>{var i=d(),h=S(A);return b?(b=!1,C=!0,h):(C=!1,A.v=i)}));return s||(E.equals=ra),function(i,h){if(arguments.length>0){const g=h?S(E):r&&l?ha(i):i;return E.equals(g)||(b=!0,sa(A,g),o&&n!==void 0&&(n=g),m(()=>S(E))),i}return S(E)}}export{Ra as b,Ia as c,Pa as i,Ta as p};
